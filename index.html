<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hitch Point</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Base variables and resets -->
    <link rel="stylesheet" href="src/css/base.css">
    <!-- Feature/component styles -->
    <link rel="stylesheet" href="src/css/navbar.css">
    <link rel="stylesheet" href="src/css/modal.css">
    <link rel="stylesheet" href="src/css/ride-request.css">
    <link rel="stylesheet" href="src/css/history.css">
    <link rel="stylesheet" href="src/css/toast.css">
    <link rel="stylesheet" href="src/css/forms.css">
    <!-- Utility classes -->
    <link rel="stylesheet" href="src/css/utility.css">
    <!-- External libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <!-- Centered Navbar -->
    <div class="navbar-wrapper">
        <nav id="main-navbar" class="navbar hidden">
            <div class="navbar-logo">
                <img src="src/images/logo.png" alt="Hitch Point Logo" class="navbar-logo-img">
            </div>
            <div class="navbar-menu">
                <button id="navbar-hamburger" class="navbar-hamburger" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div id="navbar-dropdown" class="navbar-dropdown">
                    <button id="navbar-profile" class="btn-secondary">Profile</button>
                    <button id="navbar-view-history" class="btn-secondary">Ride History</button>
                    <button id="navbar-logout" class="btn-secondary">Log Out</button>
                </div>
            </div>
        </nav>
    </div>

    <div id="app-container">
        <!-- Toast notifications -->
        <div id="toast-container"></div>
        <!-- Loading overlay -->
        <div id="loading-overlay">
            <div class="spinner"></div>
        </div>

        <!-- Logged out view -->
        <div id="logged-out-view">
    <div class="signin-logo-container">
        <img src="src/images/logo.png" alt="Hitch Point Logo" class="signin-logo-img">
    </div>
    <div class="carousel" id="login-carousel">
        <div class="carousel-slide active">
            <div class="carousel-icon">
                <!-- Home SVG -->
                <svg width="48" height="48" fill="none" viewBox="0 0 48 48"><path d="M8 20L24 8l16 12v16a4 4 0 0 1-4 4H12a4 4 0 0 1-4-4V20z" stroke="#5E9BCD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><rect x="18" y="28" width="12" height="12" rx="2" stroke="#5E9BCD" stroke-width="3"/></svg>
            </div>
            <div class="carousel-message">Welcome to Hitch Point</div>
            <div class="carousel-submessage">Easily pinpoint your pickup and drop-off locations on the map.</div>
        </div>
        <div class="carousel-slide">
            <div class="carousel-icon">
                <!-- Lightning Bolt SVG -->
                <svg width="48" height="48" fill="none" viewBox="0 0 48 48"><path d="M24 4L10 28h12v16l14-24H26L24 4z" stroke="#5E9BCD" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="carousel-message">Get Rides in Instant</div>
            <div class="carousel-submessage">Quickly request rides with just a few taps.</div>
        </div>
        <div class="carousel-slide">
            <div class="carousel-icon">
                <!-- Steering Wheel SVG -->
                <svg width="48" height="48" fill="none" viewBox="0 0 48 48"><circle cx="24" cy="24" r="20" stroke="#5E9BCD" stroke-width="3"/><circle cx="24" cy="24" r="6" stroke="#5E9BCD" stroke-width="3"/><path d="M24 30v8M24 10v8M10.93 37.07l5.66-5.66M37.07 10.93l-5.66 5.66M10.93 10.93l5.66 5.66M37.07 37.07l-5.66-5.66" stroke="#5E9BCD" stroke-width="3"/></svg>
            </div>
            <div class="carousel-message">Enjoy Your Ride</div>
            <div class="carousel-submessage">Sit back, relax, and enjoy a safe and comfortable journey.</div>
        </div>
        <div class="carousel-dots">
            <span class="carousel-dot active"></span>
            <span class="carousel-dot"></span>
            <span class="carousel-dot"></span>
        </div>
    </div>
    <button id="google-login-btn" class="btn-google">
        <i class="fab fa-google"></i> Sign in with Google
    </button>
</div>

       <!-- Ride Request Section -->
<div id="ride-request-section" class="hidden">
    <h2>Request a Ride</h2>
    <div class="input-group input-group-inline">
        <label for="origin-input">Origin</label>
        <div class="input-inline-wrap">
            <input type="text" id="origin-input" placeholder="Enter origin">
            <button id="select-origin-map-btn" class="btn-secondary" type="button">
                <i class="fas fa-map-marker-alt"></i> Select on Map
            </button>
        </div>
    </div>
    <div class="input-group input-group-inline">
        <label for="destination-input">Destination</label>
        <div class="input-inline-wrap">
            <input type="text" id="destination-input" placeholder="Enter destination">
            <button id="select-destination-map-btn" class="btn-secondary" type="button">
                <i class="fas fa-map-marker-alt"></i> Select on Map
            </button>
        </div>
    </div>
    <div class="input-group input-group-row">
        <div class="input-half">
            <label for="bags-input">Bags</label>
            <input type="number" id="bags-input" min="0" value="0">
        </div>
        <div class="input-half">
            <label for="persons-input">Persons</label>
            <input type="number" id="persons-input" min="1" value="1">
        </div>
    </div>
    <div class="input-group input-group-row">
        <label class="toggle-label">
            <label for="ride-datetime-input">Ride Date & Time:</label>
            <input type="datetime-local" id="ride-datetime-input" required>
            <span class="slider"></span>
        </label>
        <label class="toggle-label">
            <span>Round Trip</span>
            <input type="checkbox" id="round-trip-input" class="toggle-switch">
            <span class="slider"></span>
        </label>
    </div>
    <button id="request-ride-btn" class="btn-primary">Request Ride</button>
    <!-- PWA Install Button -->
    <button id="install-pwa-btn" class="btn-secondary hidden" style="margin-top: 1em;">
        <i class="fas fa-download"></i> Install App
    </button>
</div>

         <!-- User Profile View -->
    <div id="profile-view" class="hidden">
        <form id="user-profile-form" class="p-4 rounded-lg shadow-sm" autocomplete="off">
            <h3 class="text-xl mb-4">Your Profile</h3>
            <div class="input-group">
                <label for="profile-first-name">First Name</label>
                <input type="text" id="profile-first-name" name="firstName" required>
            </div>
            <div class="input-group">
                <label for="profile-last-name">Last Name</label>
                <input type="text" id="profile-last-name" name="lastName" required>
            </div>
            <div class="input-group">
                <label for="profile-phone">Phone Number (optional)</label>
                <input type="text" id="profile-phone" name="phone" pattern="^[0-9+\-\s()]*$">
            </div>
            <div class="input-group">
                <label for="profile-email">Email Address</label>
                <input type="email" id="user-email" name="email" required readonly>
            </div>
            <button type="submit" class="btn-primary mt-4">Save Profile</button>
            <button type="button" id="profile-back-btn" class="btn-secondary mt-4" style="margin-left: 1em;">Back</button>
        </form>
    </div>





    </div>

   


    <!-- Ride History Modal -->
    <div id="ride-history-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Ride History</h3>
                <button class="modal-close-button" onclick="window.closeModal('ride-history-modal')">&times;</button>
            </div>
            <div id="ride-history-body" class="modal-body"></div>
        </div>
    </div>

    <!-- Quote Display Modal -->
    <div id="quote-display-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close-button" onclick="window.closeModal('quote-display-modal')">&times;</button>
            <h3>Estimated Ride Quote</h3>
            <div class="modal-quote-content">
                <p class="font-semibold">Quote Details:</p>
                <p>Origin: <span id="quote-origin"></span></p>
                <p>Destination: <span id="quote-destination"></span></p>
                <p>Distance: <span id="quote-distance"></span></p>
                <p>Duration: <span id="quote-duration"></span></p>
                <p>Bags: <span id="quote-bags"></span></p>
                <p>Persons: <span id="quote-persons"></span></p>
                <p class="quote-detail"><strong>Date & Time:</strong> <span id="quote-datetime"></span></p>
                <p>After Hours: <span id="quote-afterHours"></span></p>
                <p>Round Trip: <span id="quote-roundtrip"></span></p>
                <p>Fare: <span id="quote-fare" class="text-xl font-bold"></span></p>
                <button id="print-quote-btn" class="btn-secondary mt-4">Print Quote</button>
            </div>
        </div>
    </div>

    <!-- Map Modal -->
    <div id="map-modal" class="modal">
        <div class="modal-content modal-large">
            <button class="modal-close-button" onclick="window.closeModal('map-modal')">&times;</button>
            <div id="map" style="height: 400px; width: 100%;"></div>
        </div>
    </div>

    <!-- Config -->
    <script src="config.js"></script>
    <!-- Main JS as module -->
    <script type="module" src="src/js/main.js"></script>
</body>
</html>
